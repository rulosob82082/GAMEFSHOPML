"use strict";(self.webpackChunkgameflip_market=self.webpackChunkgameflip_market||[]).push([[8108],{74685:(e,t,l)=>{l.d(t,{Z:()=>r});var a=l(67294),s=l(84766),i=l(46858),o=l(1055);class r extends a.Component{onClickPager(e){this.props.scrollToTop&&i.Z.scrollTop()}onClickNavigate(e,t){t.preventDefault(),this.props.onNavigate&&this.props.onNavigate(e)}render(){let e=this.props.to,t=this.props.params||{},l=this.props.query,r=l.limit?parseInt(l.limit):0,n=l.page?parseInt(l.page):1,c=i.Z.clone(l);delete c.start,c.page=n>0?n-1:0;let m=i.Z.clone(l);delete m.start,m.page=n+1;let p="btn disabled",h="btn",d="btn",u="",g="",f=a.createElement("span",{className:"fa fa-chevron-left","aria-hidden":"true"}),b=a.createElement("span",{className:"fa fa-chevron-right","aria-hidden":"true"}),y=(0,o._)("Next"),v=(0,o._)("Previous");n<=1?(d=p,g=a.createElement("span",{className:d},f," ",v)):g=e?a.createElement(s.Link,{to:e,params:t,query:c,className:d},f," ",v):a.createElement("span",{className:d+" btn-primary",onClick:this.onClickNavigate.bind(this,c)},f," ",v),s.Log.debug(this.props.next_url,"Next URL");let N=this.props.next_url?i.Z.parseQuery(this.props.next_url):{},E=N.start?parseInt(N.start):0;s.Log.debug(E,"nextPageStart"),s.Log.debug(n,"page"),s.Log.debug(r,"perPage"),E<n*r?(h=p,u=a.createElement("span",{className:h},y," ",b)):u=e?a.createElement(s.Link,{to:e,params:t,query:m,className:h},y," ",b):a.createElement("span",{className:h+" btn-primary",onClick:this.onClickNavigate.bind(this,m)},y," ",b);let k=d==p&&h==p?"":a.createElement("nav",null,a.createElement("ul",{className:"pager",onClick:this.onClickPager.bind(this)},a.createElement("li",null,g),a.createElement("li",null,u)));return a.createElement("div",{className:"row d-block"},k)}}},74348:(e,t,l)=>{l.d(t,{Z:()=>r});var a=l(67294),s=l(98004),i=(l(84766),l(46858)),o=l(34837);class r extends a.Component{constructor(e){super(e),this.state=this.getState()}getState(){let{model:e}=this.props,t={};return this.properties=[],e.forEach((e=>{let l=e.key;switch(e.label||(e.label=i.Z.firstCap(e.key)),e.type){case"integer":case"float":case"string":t[l]="";break;case"boolean":t[l]=void 0===e.searchDefaultValue||e.searchDefaultValue;break;case"enum":t[l]=Array.isArray(e.enums)&&e.enums.length>0?e.enums[e.searchDefaultValue<e.enums.length?e.searchDefaultValue:0].value:{};break;case"array":case"tags":t[l]=[]}this.properties.push(e)})),{form:t}}resetState(){this.setState(this.getState(),(()=>{this.onSearch()}))}clearFilters(){this.resetState()}buildQuery(){let{model:e}=this.props,{form:t}=this.state,l="",a=this.properties.length,s=!1;for(let e=0;e<a;e++){let a=s&&0!==e?"&":"",o=this.properties[e],r=o.key,n=t[r];switch(["string","integer","float"].indexOf(o.type)>=0&&n&&(l+=`${a}${r}=${n}`,s=!0),o.type){case"enum":n&&n.value&&(l+=`${a}${r}=${n.value}`,s=!0);break;case"boolean":void 0!==n&&(l+=`${a}${r}=${n?"true":"false"}`,s=!0);break;case"array":n&&n.length&&(l+=`${a}${r}=${n.join(",")}`,s=!0);break;case"tags":n&&n.length&&(l+=`${a}${r}=${i.Z.unselectifyTagsString(n)}`,s=!0)}}let o=this.props.limit?`limit=${this.props.limit}&`:"";return s?"?"+o+l:""}onChangeInput(e,t){let{form:l}=this.state,a=t&&t.target?t.target.value:t&&void 0!==t.value?t.value:t;"integer"==e.type&&(a=parseInt(a)||0),"float"==e.type&&(a=parseFloat(a)||0),"boolean"==e.type&&(a=t.target.checked),l[e.key]=a,this.setState({form:l},(()=>{["string","integer","float"].indexOf(e.type)>=0?""==a&&this.onSearch():this.onSearch()}))}onKey(e){"Enter"===e.key&&this.onSearch()}onSearch(){let{onFilter:e}=this.props,{form:t}=this.state;e&&e(this.buildQuery(),t)}render(){let{className:e}=this.props,{form:t}=this.state,l={placeholder:(e,t)=>(o.Z.isDark&&(e.color="#e0e0e0"),e),menu:(e,t)=>(e.zIndex=1e3,e)},i=this.properties.map(((e,i)=>{let o=t[e.key],r="queryfilter-"+e.key,n=e.hint?a.createElement("span",{className:"help-block"},e.hint):"";if("integer"===e.type||"float"===e.type)return a.createElement("div",{key:i,className:"col-5 col-md-5"},a.createElement("div",{className:"form-group"},a.createElement("input",{className:"form-control",type:"number",placeholder:e.placeholder||e.label,value:o,onChange:this.onChangeInput.bind(this,e),onKeyPress:this.onKey.bind(this)}),n));switch(e.type){case"string":return a.createElement("div",{key:i,className:"col-5 col-md-5"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"input-group"},a.createElement("input",{className:"form-control",type:"text",placeholder:e.placeholder||e.label,value:o,onChange:this.onChangeInput.bind(this,e),onKeyPress:this.onKey.bind(this)}),a.createElement("div",{className:"input-group-append"},a.createElement("button",{className:"btn btn-clear",onClick:this.onSearch.bind(this,e)},a.createElement("span",{className:"fa fa-search"})))),n));case"enum":return a.createElement("div",{key:i,className:"col-5 col-md-4"},a.createElement("div",{className:"form-group"},a.createElement(s.Z,{isMulti:!1,className:"tag-form-select form-control",styles:l,placeholder:e.placeholder||e.label,value:o,onChange:this.onChangeInput.bind(this,e),options:e.enums}),n));case"boolean":return a.createElement("div",{key:i,className:"col-3 col-md-1"},a.createElement("div",{className:"form-group"},a.createElement("div",{className:"custom-control custom-switch"},a.createElement("input",{className:"custom-control-input",id:r,type:"checkbox",checked:o,onChange:this.onChangeInput.bind(this,e)}),a.createElement("label",{className:"custom-control-label",htmlFor:r})),n))}}));return i.length&&i.push(a.createElement("div",{key:"clear",className:"col-1"},a.createElement("button",{className:"btn btn-clear",onClick:this.clearFilters.bind(this)},a.createElement("i",{className:"fas fa-backspace"})))),a.createElement("div",{className:"query-filter "+(e||"")},a.createElement("div",{className:"row"},i))}}},98004:(e,t,l)=>{l.d(t,{Z:()=>o});var a=l(67294),s=l(84766),i=l(96655);class o extends a.Component{constructor(e,t){super(e,t),this.ref=a.createRef()}get data(){let{options:e,value:t,placeholder:l}=this.props,a=[];Array.isArray(t)?t.map(((e,t)=>{a[e.value]=e.value})):"string"==typeof t&&(a[t]=t);let s=[];return s.push({placeholder:!0,text:l}),e.map(((e,t)=>{s.push({value:e.value,text:e.label||e.text,selected:!!a[e.value]})})),s}onChange(e){let{options:t,value:l}=this.props;if(this.props.onChange){let e=this.select.selected(),l=e=>{let l=null;return t.map(((t,a)=>{t.value==e&&(l=Object.assign({},t),l.text=t.label||t.text)})),l};if(Array.isArray(e)){let t=[];e.map(((e,a)=>{let s=l(e);s&&t.push(s)})),this.props.onChange(t)}else{let t=l(e);this.props.onChange(t)}}}componentDidMount(){s.ScriptLoader.load(this,i._8D),s.ScriptLoader.load(this,i._Yb,{htmlElem:"link"})}componentWillUnmount(){this.select&&(this.select.destroy(),delete this.select)}onScriptLoaded(e){e==i._8D&&this.createSlimSelect()}onScriptError(e){s.Log.error("Script loading error: "+e)}createSlimSelect(){if(this.select)return;let{placeholder:e,isMulti:t,limit:l}=this.props;this.select=new SlimSelect({data:this.data,select:this.ref.current,onChange:this.onChange.bind(this),placeholder:e||"",css:"background-color: #999",limit:t?l||5:1,hideSelectedOption:!0})}componentDidUpdate(e){let t=this.props.value;t&&this.valuesEqual(t,e.value)&&this.select&&this.select.setData(this.data)}valuesEqual(e,t){if(Array.isArray(e)&&Array.isArray(t)){let l=e.length==t.length;for(let a=0;l&&a<e.length;a++)l=l&&e[a].value==t[a];return l}return e===t}render(){let{className:e,options:t,value:l,placeholder:s,isMulti:i}=this.props;return this.select&&this.select.setData(this.data),a.createElement("select",{ref:this.ref,className:e||"",multiple:i||!1})}}},78108:(e,t,l)=>{l.r(t),l.d(t,{LINKS:()=>b,default:()=>y});var a=l(67294),s=l(97762),i=l.n(s),o=l(47675),r=l(84766),n=l(42741),c=(l(35255),l(46858)),m=l(95835),p=(l(64927),l(77596)),h=l(74348),d=l(74685),u=l(21397),g=l(1055),f=l(17515);l(78314),l(96655);const b={website:{name:"Website",icon:"fas fa-globe"},twitter:{name:"Twitter",icon:"fab fa-twitter"},instagram:{name:"Instagram",icon:"fab fa-instagram"},youtube:{name:"YouTube",icon:"fab fa-youtube"},twitch:{name:"Twitch",icon:"fab fa-twitch"},tiktok:{name:"TikTok",icon:"fas fa-music"},discord:{name:"Discord",icon:"fab fa-discord"},facebook:{name:"Facebook",icon:"fab fa-facebook-f"}};class y extends a.Component{constructor(e,t){super(e,t);let l=c.Z.contextData(e);this.queryForm={},this.state={htmlHeaders:l.htmlHeaders||null,collections:l.collections?l.collections:[],collection:{},query:null}}static fetchData(e,t){let l=c.Z.pagingQuery(e,36),a=e.id||e.name;a?y.fetchCollection(a,l,t):y.fetchCollections(null,l,t)}static fetchCollection(e,t,l){r.Log.debug(t,"Fetching collection"),n.Z.getCollectibleCollection(e,(e=>{e&&e.id?y.fetchCollectibleItems(e,t,l):l("Collection missing ID",e)}),(e=>{l(e)}))}static fetchCollections(e,t,l){let a=c.Z.pagingQuery(t);a.visibility="public",r.Log.debug(a,"Searching collectible collections"),n.Z.searchCollection("collection",a,((e,t)=>{if(e&&e.collections){let a=e.collections;l(null,a,t)}else l("No collections found.")}),(e=>{r.Log.error(e,"Got error"),l(e)}))}static fetchCollectibleItems(e,t,l){t.collection_id=e.id,t.visibility="public",r.Log.debug(t,"Searching collectible items"),n.Z.searchCollection("item",t,((t,a)=>{if(!t||!t.items)return l("No collectible items found.");let s=t.items.map((e=>e.id));n.Z.searchListings({kind:"drop",collectible_item_id:s.join(",")},(s=>{let i={};for(let e in s){let t=s[e];i[t.collectible_item_id]=t}e.items=t.items,e.items&&Array.isArray(e.items)&&(e.items=e.items.filter((e=>(i[e.id]&&(e.listing=i[e.id]),e.visibility&&"public"==e.visibility)))),l(null,e,a)}))}))}static propData(){return"collection"}static itemImageVideo(e,t){let l={imageUrl:"",videoUrl:""};if("string"!=typeof e)return l;if(0===e.indexOf("http"))return l.imageUrl=e,l;if(!t)return l;let a=t[e];if(!a)return l;if(c.Z.isImage(a))return l.imageUrl=a.view_url,l;if(c.Z.isVideo(a)&&(l.videoUrl=a.view_url,a.posters))for(let e in a.posters)if("object"==typeof a.posters[e])for(let t in a.posters[e])if("object"==typeof a.posters[e][t])return l.imageUrl=a.posters[e][t].view_url,l;return l}componentDidMount(){f.Z.update();let e=this.props.match.params;this.loadCollection(e)}componentDidUpdate(e,t){let l=this.props.match?this.props.match.params:{},a=e.match?e.match.params:{};(l.id||l.name)==(a.id||a.name)&&this.props.location.search===e.location.search&&t.query==this.state.query||this.loadCollection(l)}loadCollection(e){let t=e.id||e.name,l=c.Z.pagingQuery(c.Z.parseQuery(this.props.location.search),36);this.queryForm=c.Z.clone(l),l.id=t,y.fetchData(l,((e,t,l)=>{t?Array.isArray(t)?this.setState({collections:t,collection:null,loaded:!0}):this.setState({collections:[],collection:t,next_page:l,loaded:!0}):this.setState({collections:[],collection:{},loaded:!0})}))}onFilterCollection(e,t){this.queryForm=t;let l=this.props.match.params;y.fetchCollections(null,t,((e,a)=>{c.Z.setQuery(t),c.Z.replacePathWith("collection",l,t),this.setState({collections:e||[],next_page:a})}),(e=>{callback(e)}))}onFilterCollectible(e,t){let{collection:l}=this.state;this.queryForm=t;let a=this.props.match.params;y.fetchCollectibleItems(l,t,((e,l)=>{c.Z.setQuery(t),c.Z.replacePathWith("collection",a,t),this.setState({collection:e,next_page:l})}),(e=>{callback(e)}))}onClickAction(e,t){if(r.Log.debug(e,"Action"),c.Z.checkVerified()&&"buy"===e){r.Log.debug(e,"Action type");let l={id:t};c.Z.transitionTo("checkout",l)}}headerMetas(e){let t=i().renderToString(a.createElement(u.Z,{item:e,urlOnly:!0})),l=c.Z.stripHtml(e.description),s=c.Z.categoryName(e.category,e.upc),r=c.Z.platformName(e.category,e.platform),n="",m=o.Z.config.server_url+"/item/"+c.Z.slug(e.name)+"/"+e.id;n=e.name+" - "+r+" "+s;let p={title:n,description:l,image:t,type:"product",url:m};return c.Z.isEmpty(e.seller_profile),p}render(){let e=this.props.match.params,{collections:t,collection:l,htmlHeaders:s,loaded:i}=this.state;return i?l&&l.id||!e.id&&!e.name||t&&!(t.length<=0)?l?this.renderCollectionItems(l):this.renderCollections(t):a.createElement("div",{className:"row"},a.createElement("h1",{className:"col-12"},(0,g._)("Not Found")),a.createElement("p",{className:"col-12 pt-3"},(0,g._)("Collection not found!"))):a.createElement("div",null)}renderCollectionItems(e){let{next_page:t}=this.state,l=[{key:"term",type:"string",label:(0,g._)("Search")},{key:"sort",type:"enum",label:(0,g._)("Sort"),enums:[{value:"updated:asc",label:(0,g._)("Newest")},{value:"updated:desc",label:(0,g._)("Oldest")}]}],s=[];e.items&&e.items.map(((t,l)=>{s.push(a.createElement(p.Z,{key:l,className:"col-12 col-md-6 col-xl-4 listing-detail",key:l,item:t,collection:e}))}));let i=[];if(e.links)for(let t in b){let l=e.links[t];if(l){let e=b[t],s=e.name;i.push(a.createElement("a",{key:t,href:l,target:"_blank",rel:"noopener noreferrer nofollow",className:"nftc-collection-link text-nowrap pt-1 pb-2"},a.createElement("span",{className:"nftc-collection-link-icon "+e.icon})," ",s))}}i.length&&(i=a.createElement("div",{className:"pt-2 pb-0 pt-md-4 pb-md-5"},a.createElement("div",null,i)));let o,r,n,u=e.background;if("string"==typeof u){let t=y.itemImageVideo(u,e.media);n=t.imageUrl,t.videoUrl&&(o=a.createElement("video",{className:"img-fluid",poster:n||null,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controls:!1,controlsList:"nodownload",style:{backgroundColor:"black",minHeight:"64px",maxHeight:"350px",width:"100%"}},a.createElement("source",{src:t.videoUrl,type:"video/mp4"})))}return r=a.createElement("div",{className:"hero-content-outer",style:{backgroundImage:`url(${n||"/img/nft/collection/wwf_bg.jpg"})`,minHeight:"277px"}}),a.createElement("div",{id:"collection",className:"container-fluid p-0 gf-background-a"},a.createElement("div",{className:"hero position-relative"},o||r),a.createElement("div",{className:"screen container-xl mt-0"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-12 col-xl-3"},e.logo?a.createElement("div",{className:"nftc-collection-logo"},a.createElement(m.Z,{className:"nftc-collection-logo-image",src:e.logo,alt:e.name})):null,a.createElement("div",{className:"py-3 py-md-5"}),a.createElement("div",{className:"py-2 py-md-3"}),a.createElement("div",{className:""},a.createElement("h1",{className:"gf-text-header-bold gf-color-gray mb-2"},e.name)),e.description?a.createElement("div",{className:"pt-4 pt-md-5"},a.createElement("h2",{className:"my-0 mb-1 text-bold"},(0,g._)("About")),a.createElement("p",{className:"gf-text-normal-2 font-weight-lighter"},c.Z.replaceLineBreak(e.description))):null,i),a.createElement("div",{className:"col-12 col-xl-9"},a.createElement(h.Z,{className:"mt-5 ml-0 ml-xl-5 pl-0 pl-xl-3",model:l,onFilter:this.onFilterCollectible.bind(this)}),a.createElement("div",{className:"row pt-4 pt-md-5 pb-3 ml-xl-5"},s,a.createElement("div",{className:"w-100 pb-4"},this.queryForm.page||t?a.createElement(d.Z,{to:"collection/"+e.id+"/",query:this.queryForm,next_url:t,scrollToTop:!0}):null))))))}renderCollections(e){let t=[{key:"term",type:"string",label:(0,g._)("Search")},{key:"sort",type:"enum",label:(0,g._)("Sort"),enums:[{value:"updated:asc",label:(0,g._)("Newest")},{value:"updated:desc",label:(0,g._)("Oldest")}]}],{next_page:l}=this.state,s=[];return e&&e.map(((e,t)=>{s.push(a.createElement(v,{key:t,className:"col-12 col-sm-6 col-lg-3 listing-detail",collection:e}))})),a.createElement("div",{id:"collection",className:"container-fluid p-0 gf-background-a"},a.createElement("div",{className:"container"},a.createElement("h1",{className:"my-0 pt-5"},(0,g._)("Blockchain Asset")," / ",(0,g._)("Collections")),a.createElement(h.Z,{className:"mt-3",model:t,onFilter:this.onFilterCollection.bind(this)}),a.createElement("div",{className:"row py-3"},s),a.createElement("div",{className:"pb-4"},this.queryForm.page||l?a.createElement(d.Z,{to:"collection",query:this.queryForm,next_url:l,scrollToTop:!0}):null)))}}class v extends a.Component{constructor(e){super(e)}componentDidUpdate(e,t){let l=this.props.collection||{};e.collection&&l&&l.id&&(e.collection.id,l.id)}onClick(){let{collection:e}=this.props;c.Z.transitionTo("collection/"+e.id)}render(){let{collection:e,className:t,view:l}=this.props,s={backgroundImage:`url(${y.itemImageVideo(e.cover_media,e.media).imageUrl||e.cover||e.logo||"/img/app/default_no_photo.png"})`},i=a.createElement(r.Link,{className:"thumbnail nftc-collection-thumbnail",to:"/collection/"+e.id,style:s},a.createElement("div",{className:"nftc-collection-name"},e.name));return a.createElement("div",{className:t},i)}}}}]);