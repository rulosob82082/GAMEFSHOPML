"use strict";(self.webpackChunkgameflip_market=self.webpackChunkgameflip_market||[]).push([[9992,8258],{68091:(e,t,i)=>{i.d(t,{Z:()=>N});var a=i(67294),s=(i(50743),i(84766)),r=i(42741),n=i(46858),l=i(58166),o=i(35255),c=i(21397),m=i(11292),p=i(96655);class d extends a.Component{findPlatformTag(e){let t=this.props.item,i=n.Z.itemTagsMap(t),a=i.platform||"";if(!a)for(let e in i)if(e.includes("_platform")){a=i[e];break}let s="";return a&&(a=a.toLowerCase(),["xbox","steam","playstation","ps3","ps4"].map(((e,t)=>{a.includes(e)&&(s=e)}))),s}getGamePlatformIcon(e){let t="";switch(e){case"steam":t="icon_platform_steam.png";break;case"nintendo_switch":t="icon_platform_switch.png";break;case"xbox":case"xbox_360":case"xbox_360":case"xbox_one":case"xbox_series":t="icon_platform_xbox.png";break;case"ps3":case"ps4":case"ps5":case"playstation":case"playstation_2":case"playstation_3":case"playstation_4":case"playstation_5":t="icon_platform_ps.png"}return t}getStampInGame(e){let{category:t,upc:i,platform:r,tags:l}=this.props.item,o=n.Z.categoryPlatform(t,i)||{},c="",m="";if("right"==e){if(n.Z.isMMOUPC(i)&&l&&l.length>0){let e=this.findPlatformTag(l);e&&(r=e),s.Log.debug(e,"Finding platform from tags")}c=this.getGamePlatformIcon(r),c&&(c="/img/app/"+c),m=r?r.replace("_"," "):r}else"left"==e&&(c=o.image||"/img/app/"+p.FIn[i],m=o.label);return!!c&&a.createElement("img",{className:"img-fluid",src:c,alt:m})}getStampGame(e){let{platform:t,tags:i}=this.props.item,s="",r="";return"right"==e&&(s=this.getGamePlatformIcon(t),s&&(s="/img/app/"+s),r=t?t.replace("_"," "):t),!!s&&a.createElement("img",{className:"img-fluid",src:s,alt:r})}getStampMovie(e){let t="";return"right"==e&&(t=n.Z.itemTagsMap(this.props.item).resolution),!!t&&a.createElement("span",{className:"text-primary w-100"},t)}getStampGig(e){if("left"!=e)return!1;let{category:t,genre:i,tags:s}=this.props.item,r="",l=null;if(i&&i.length>0&&i[0]){let e=n.Z.categories().find((e=>e.id==t)),a=(e&&e.genre&&e.genre.items?e.genre.items:[]).find((e=>e.id==i));r=a&&a.image?a.image:null,l=a&&a.label?a.label:null}return!!r&&a.createElement("img",{className:"img-fluid",src:r,alt:l})}render(){let{position:e,item:t}=this.props,{kind:i,category:s,upc:r,platform:n,tags:l}=t;e||(e="right");let o="row platform-stamp"+("left"==e?" stamp-left":""),c=null;return s==p.SkU&&r?c=this.getStampInGame(e):s==p.wz$?c=this.getStampMovie(e):s==p.YJJ?c=this.getStampGame(e):i==p.Bxu&&(c=this.getStampGig(e)),!!c&&a.createElement("div",{className:o},c)}}var u=i(12009),g=i(58790),h=i(53414),f=i(64927),_=i(78314),y=i(53953),v=i(17515),E=i(16778),b=i(1055);class N extends a.Component{constructor(e,t){super(e,t),this.state={items:[]}}componentDidMount(){v.Z.update();let e=this.props.items;e&&n.Z.notEmpty(e)?this.setState({items:e},(()=>{this.cacheListings(e)})):this.props.query&&this.loadListings(this.props.query)}componentDidUpdate(e,t){this.props.query&&e.query&&JSON.stringify(this.props.query)!==JSON.stringify(e.query)?this.loadListings(this.props.query):this.props.items&&e.items&&this.cacheListings(this.props.items)}componentWillUnmount(){this.unmounted=!0}loadListings(e){this.query=e,r.Z.searchListings(e,((e,t)=>{let i=this.props.exclude;if(i&&(e=e.filter(((e,t)=>e.id!=i.id&&e.owner!=i.owner))),!this.unmounted&&(this.setState({items:e},(()=>{this.cacheListings(e)})),this.props.onResult)){let i=e?e.length:0;this.props.onResult(i,t)}}),(e=>{this.setState({items:[]})}))}cacheListings(e){e.forEach((e=>{let t=e;e.description&&e.description.length>=48&&(t=n.Z.clone(t),t.description=e.description.substring(0,48)),E.Z.setItem(t)}))}render(){let e=this.props.items||this.state.items,{view:t,per:i,textSize:s,nocart:r,nolink:n,onClick:l,onRemove:o,kind:c}=this.props;if(!Array.isArray(e)||0==e.length)return!1;i||(i=3),"list"==t&&i>2&&(i=2);let m=e.map(((e,m)=>c==p.Bxu?a.createElement(x,{key:e.id,item:e,per:i,view:t||"grid",nolink:n,onClick:l,textSize:s||"normal"}):a.createElement(k,{key:e.id,item:e,per:i,view:t||"grid",nocart:r,nolink:n,onClick:l,onRemove:o,textSize:s||"normal"})));return a.createElement("div",{className:"row"},m)}}class k extends a.Component{constructor(e){super(e),this.state={suggest_price:null}}componentWillUnmount(){this.handleTooltips("dispose")}componentDidMount(){this.handleTooltips("init"),this.loadSuggestPrice(this.props.item)}componentWillUnmount(){this.unmounted=!0}componentDidUpdate(e,t){let i=this.props.item||{};e.item&&i&&i.id&&e.item.id!=i.id&&this.loadSuggestPrice(i)}handleTooltips(e){if(n.Z.isBrowser){let t=$("[data-toggle=tooltip]");t.length>0&&("init"==e?t.tooltip():t.tooltip("dispose"))}}loadSuggestPrice(e){if(e&&e.status==p.A9h)return;let t=e&&e.steam_properties?e.steam_properties:{},i=t.market_hash_name||t.name;!e.suggest_price&&t.appid&&i&&l.Z.getSteamPrice(t.appid,i,(e=>{if(this.unmounted)return;let i=n.Z.lowestPrice(e.lowest_price,e.median_price);i>0&&(i*=100),t.appid,this.setState({suggest_price:i})}),(e=>{}))}onClick(e,t){t.preventDefault(),this.props.onClick&&this.props.onClick(e)}addToCart(e,t){t.preventDefault(),y.Z.setItem(e),y.Z.buyerQuote(e),this.forceUpdate(),o.ZP.track(o.oT,e)}removeFromCart(e,t){t.preventDefault(),y.Z.removeItem(e)}render(){let e=this.props.view||"grid",t=this.props.textSize||"",{item:i,nolink:r,nocart:l,onRemove:o,hasOnClick:h}=this.props,v="grid"==e?this.props.per:this.props.per>=2?2:1,E=i.category==p.xmu,N={name:void 0!==i.name?i.name.trim().replace(/[\W_]+/g,"-").toLowerCase():"name",id:i.id},k="listing-detail view-"+e+" ",x="overflow-hidden "+(1==v?"col-3 col-md-1":"col-12"),S="caption "+(1==v?"col-9 col-md-11":"col-12");switch(v){case 1:k+="col-12 col-md-12";break;case 2:k+="col-12 col-md-6 col-lg-6";break;case 3:k+="col-6 col-md-4 col-lg-4";break;case 4:default:k+="col-6 col-md-3 col-lg-3";break;case 6:k+="col-6 col-md-4 col-lg-3 col-xl-2"}let C=i.bn_price||i.price?a.createElement(f.Z,{money:i.bn_price||i.price,currency:i.accept_currency}):"N/A",Z=i.suggest_price||this.state.suggest_price||null,O=i.status==p.A9h?a.createElement("img",{className:"listing-ribbon",alt:"sold",src:"/img/app/ribbon_sold.png"}):"",L=a.createElement(u.Z,{className:"listing-discount",item:i,suggest_price:Z}),R=g.Z.getQuery(i),V=i.comment?a.createElement(w,{count:i.comment}):"",M=o?a.createElement("a",{className:"tool-icon btn btn-link text-danger",onClick:this.removeFromCart.bind(this,i)},a.createElement("span",{className:"fa fa-times"})):"",T=r?"":a.createElement(s.Link,{title:(0,b._)("Search similar"),onClick:e=>{e&&e.stopPropagation()},className:"tool-icon text-secondary",to:"shop",query:R},a.createElement("span",{className:"fa fa-search","aria-hidden":"true"})),I=n.Z.itemHasVideo(i)?a.createElement("span",{className:"video-icon far fa-play-circle","aria-hidden":"true"}):"",U="",j="";if(i.kind==p.Iox){let e="";if(i.digital)"code"==i.digital_deliverable&&(e=i.escrow_status||i.nft?"/img/app/icon_delivery_bot.png":0==i.shipping_within_days?"/img/app/icon_delivery_key_instant.png":"/img/app/icon_delivery_key.png",[p.YJJ,p.tVC,p.wz$].includes(i.category)&&i.shipping_within_days>=0&&(i.digital_region&&"none"!=i.digital_region?i.digital_region&&"none"!==i.digital_region&&(j=a.createElement("img",{className:"img-digital-delivery img-fluid","data-toggle":"tooltip",title:(0,b._)("Region Restriction: ")+i.digital_region,alt:(0,b._)("Region Restricted"),src:"/img/app/icon_digital_globe_restricted.png"})):j=a.createElement("img",{className:"img-digital-delivery img-fluid","data-toggle":"tooltip",title:(0,b._)("Region Restriction: None"),alt:(0,b._)("Global"),src:"/img/app/icon_digital_globe.png"}))),"contract"==i.digital_deliverable?e="/img/app/icon_delivery_bot.png":"transfer"==i.digital_deliverable&&(e="/img/app/icon_delivery_transfer.png"),U=a.createElement("img",{className:"img-digital-delivery img-fluid",alt:"digital "+i.digital_deliverable,src:e});else if(i.shipping_fee){let e=isNaN(i.shipping_fee)||0==i.shipping_fee||"seller"==i.shipping_paid_by;U=a.createElement("img",{className:"img-digital-delivery img-fluid",alt:e?(0,b._)("FREE shipping"):(0,b._)("Shipping"),src:e?"/img/app/icon_delivery_truck_free.png":"/img/app/icon_delivery_truck.png"})}}i.kind==p.Bxu&&i.pkg_tier2&&n.Z.isEmpty(i.pkg_tier2);let z=a.createElement(c.Z,{alt:i.name,className:"rounded border img-fluid w-100 "+(i.category==p.SkU?"bg_3d":"bg_2d")+("cryptopunks"==i.platform?" gf-pixel":""),item:i,dim:320,aspectRatio:1,autoPlay:!1}),F="";n.Z.isMobile||l||r||i.status!=p.IB||i.category!=p.SkU||"code"!=i.digital_deliverable||!i.escrow_status||i.owner==_.Z.profile.owner||(F=y.Z.getItem(i.id)?a.createElement("button",{className:"cart-btn btn btn-secondary"},a.createElement("span",{className:"fa fa-shopping-cart"}),"  ",(0,b._)("Added to Cart")):a.createElement("button",{className:"cart-btn btn btn-primary",onClick:this.addToCart.bind(this,i)},a.createElement("span",{className:"fa fa-shopping-cart"}),"  ",(0,b._)("Add to Cart")));let A=n.Z.flpEnabled&&i.digital&&(i.accept_currency==p.jtz||i.accept_currency==p.QV0)?p.jtz:b.Z.currencyLocale()||p.qBs,B=A!=i.accept_currency?a.createElement(f.Z,{className:"text-muted formatted-money mr-2",money:i.price,currency:A,flpAsUSD:i.accept_currency!=p.jtz&&i.accept_currency!=p.QV0}):"",q=i.nft_metadata&&void 0!==i.nft_metadata.serial?"#"+i.nft_metadata.serial:null,G="";if("grid"==e)G=a.createElement("div",{className:"row no-gutters thumbnail"},a.createElement("div",{className:x},a.createElement(P,{nolink:r,to:i.kind?i.kind:p.Iox,params:N,title:i.name},z,I,O,L,F,a.createElement(d,{item:i,position:"left"}),a.createElement(d,{item:i,position:"right"}),a.createElement(m.Z,{item:i,textSize:t}),E?a.createElement(D,{item:i}):"")),a.createElement("div",{className:S},a.createElement("div",{className:"row no-gutters"},a.createElement(P,{className:"col-12 description "+t,nolink:!0,to:i.kind?i.kind:p.Iox,params:N},a.createElement("p",null,i.name))),a.createElement("div",{className:"row no-gutters d-flex justify-content-start"},a.createElement("div",{className:"price text-dark "+t},C),T),a.createElement("div",{className:"row no-gutters d-flex"},a.createElement("span",{className:"mr-auto d-flex align-items-center"},B," ",q),U||"",U&&j?j:"")));else{let e=n.Z.timePassed(i.updated),s=n.Z.platformName(i.category,i.platform),l="";i.category==p.SkU?s=a.createElement(d,{item:i,type:"game",position:"left"}):i.digital?l=n.Z.digitalDeliveryText(i):(s.length>0&&(s+=" - "),s+=n.Z.conditionText(i.condition),!i.digital&&i.shipping_fee&&(l=0==i.shipping_fee?(0,b._)("FREE shipping"):"+$"+i.shipping_fee/100+" shipping")),G=a.createElement("div",{className:"row no-gutters thumbnail align-items-center"},a.createElement("div",{className:"col-3"},a.createElement(P,{nolink:r,to:i.kind?i.kind:p.Iox,params:N,title:i.name},M,z,I,O,L,F)),a.createElement(P,{className:"caption col-9",nolink:!0,to:i.kind?i.kind:p.Iox,params:N},a.createElement("div",{className:"row"},a.createElement("small",{className:"tool-icon text-muted",style:{paddingLeft:"5px",paddingRight:"0px",marginTop:"-5px"}},e),a.createElement("p",{className:"col-12 description "+t},i.name)),a.createElement("div",{className:"row pb-2"},a.createElement("div",{className:"col-9 col-md-10 text-muted"},E?a.createElement(D,{item:i}):"",s,a.createElement(d,{item:i,type:"platform",position:"right"}),a.createElement(m.Z,{item:i})),a.createElement("div",{className:"col-3 col-md-2 text-right"},V)),a.createElement("div",{className:"row"},T,a.createElement("div",{className:"col-5 col-md-4"},a.createElement("div",{className:"price text-dark "+t},C),B),a.createElement("div",{className:"col-4"},U," ",U&&j?j:""),a.createElement("div",{className:"col-3 text-muted small align-self-center"},l))))}return a.createElement("div",{className:k},G)}}class x extends a.Component{constructor(e){super(e)}onClick(e,t){t.preventDefault(),this.props.onClick&&this.props.onClick(e)}isProGig(e){let t=n.Z.itemTagsMap(e)._seller_class||"";return t&&(t=t.toLowerCase()),!(!t||"pro"!=t)}render(){let e=this.props.view||"grid",t=this.props.textSize||"",{item:i,nolink:r,nocart:l,onRemove:o,hasOnClick:m}=this.props,u="grid"==e?this.props.per:1,_={name:void 0!==i.name?i.name.trim().replace(/[\W_]+/g,"-").toLowerCase():"name",id:i.id},y="listing-detail view-"+e+" ",v=1==u?"col-3 col-md-1":"col-12",E="caption "+(1==u?"col-9 col-md-11":"col-12");switch(u){case 3:case 6:default:y+="col-6 col-md-4 col-lg-4";break;case 4:y+="col-6 col-md-3 col-lg-3"}let N=n.Z.flpEnabled&&i.digital&&(i.accept_currency==p.jtz||i.accept_currency==p.QV0)?p.jtz:b.Z.currencyLocale()||p.qBs,k=N!=i.accept_currency?a.createElement(f.Z,{className:"text-muted formatted-money",money:i.price,currency:N,flpAsUSD:i.accept_currency!=p.jtz&&i.accept_currency!=p.QV0}):"",x=i.kind==p.Bxu&&i.pkg_tier2&&!n.Z.isEmpty(i.pkg_tier2),w=a.createElement(c.Z,{alt:i.name,className:"rounded border img-fluid bg_2d",item:i,dim:320,aspectRatio:1}),D=i.bn_price||i.price?a.createElement(f.Z,{money:i.bn_price||i.price,currency:i.accept_currency}):"N/A",O=i.status==p.A9h?a.createElement("img",{className:"listing-ribbon",alt:"sold",src:"/img/app/ribbon_sold.png"}):"",L=g.Z.getQuery(i),R=this.isProGig(i),V=L.category==p.gav?"play":"service",M=n.Z.itemHasVideo(i)?a.createElement("span",{className:"video-icon far fa-play-circle","aria-hidden":"true"}):"",T=r?"":a.createElement(s.Link,{title:(0,b._)("Search similar"),onClick:e=>{e&&e.stopPropagation()},className:"tool-icon text-secondary",to:V,query:L},a.createElement("span",{className:"fa fa-search","aria-hidden":"true"})),I="";return e="grid","grid"==e&&(I=a.createElement("div",{className:"row no-gutters thumbnail",style:{borderColor:R?"#cc3636":"#ffffff"}},a.createElement("div",{className:v},a.createElement(P,{nolink:r,to:i.kind?i.kind:p.Bxu,params:_,title:i.name},w,M,O,a.createElement(d,{item:i,position:"left"}),a.createElement(Z,{listing:i}))),a.createElement("div",{className:E},a.createElement("div",{className:"row no-gutters mb-2"},T,a.createElement("div",{className:"col-12 description "+t},a.createElement("div",{className:"pr-2"},a.createElement("span",null,i.name),"  ",a.createElement(h.Z,{online_until:i.seller_online_until,hideOffline:!0,noText:!0})),a.createElement("div",null,a.createElement(C,{listing:i})))),a.createElement("div",{className:"row no-gutters d-flex align-items-center"},a.createElement("div",{className:"col-8"},a.createElement("div",{className:"price text-dark "+t},D,x?a.createElement("span",{className:"small text-muted text-uppercase text-nowrap d-none d-sm-inline"}," ",(0,b._)("and up")):""),k),a.createElement("div",{className:"col-4 text-right"},a.createElement(S,{owner:i.owner})))))),a.createElement("div",{className:y},I)}}class w extends a.Component{render(){let e=this.props.textSize||"";return a.createElement("span",{className:"float-right text-muted comment-count "+e},this.props.count,a.createElement("span",{className:"pl-1 fa fa-comment "+e}))}}class S extends a.Component{constructor(e){super(e),this.state={}}componentDidMount(){let{owner:e}=this.props;e&&this.loadRatingSummary(e)}loadRatingSummary(e){let t={owner:e,role:"seller"};r.Z.searchRatingSummary(t,(e=>{this.setState({rating_summary:e}),s.Log.debug(e,"Search rating summary result")}),(e=>{this.setState({rating_summary:null}),s.Log.error(e)}))}formatCount(e){return e<1e3?e:e<1e6?parseFloat(e/1e3).toFixed(0)+"k+":parseFloat(e/1e3).toFixed(0)+"M+"}render(){let{rating_summary:e}=this.state,t={};if(e){let i=n.Z.isInternal?"lifetime":"180day";e[i].num_ratings>=5&&(t.as_percent=parseFloat(100*e[i].good/(e[i].good+e[i].poor)).toFixed(1),t.ratings=this.formatCount(e[i].good+e[i].poor))}return!!t.as_percent&&a.createElement("div",null,a.createElement("span",{className:"text-primary fas fa-star"})," ",a.createElement("span",{className:"small"},isNaN(t.as_percent)?"N/A":t.as_percent+"%"))}}class C extends a.Component{render(){let{listing:e}=this.props,t=e.tags,i="";if(n.Z.notEmpty(t)&&e.kind==p.Bxu&&"pro_play"==e.platform){let e=n.Z.itemTagsMap(t,{multiple:!1}),s=[];for(let t in e){if(-1===["rank","role","specialty"].indexOf(t))continue;let i=e[t],r=a.createElement("span",{className:"number"==typeof i?"lcoach-tag-number":""},i);s.push(a.createElement("span",{key:t,className:"lcoach-tag"},t.length<=3?t.toUpperCase():n.Z.everyCap(t),": ",r," "))}i=a.createElement("div",{className:"small"},s)}return i}}class Z extends a.Component{render(){let{listing:e}=this.props,t=n.Z.itemTagsMap(e)._seller_class||"";return t&&(t=t.toLowerCase()),t&&"pro"==t?a.createElement("div",{className:"row platform-stamp"},a.createElement("img",{className:"img-fluid float-right",src:"/img/app/icon_pro_flat.png",alt:(0,b._)("Pro"),style:{backgroundColor:"transparent"}})):""}}class P extends a.Component{onClick(e){let{to:t,params:i,query:a}=this.props;e&&e.preventDefault(),n.Z.transitionTo(t,i,a)}render(){let{className:e,to:t,params:i,title:r,nolink:n,children:l}=this.props;return e||(e=""),n?a.createElement("div",{className:"pointer "+e,onClick:this.onClick.bind(this)},l):a.createElement(s.Link,{className:e,onClick:this.onClick.bind(this),to:t,params:i,title:r},l)}}class D extends a.Component{render(){let{item:e}=this.props,{category:t,platform:i,tags:s}=e;if(t!=p.xmu)return!1;let r=null;if("nba_topshot"==i){let t=n.Z.itemTagsMap(e),{tier:i,serial:s,circulation_count:l}=t,o=i&&s&&l?`${i} #${s}/${l}+`:"";o&&(r=a.createElement("span",null,o))}return!!r&&a.createElement("div",{className:"row nft-tags"},r)}}},12009:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(67294),s=i(46858),r=i(84766),n=(i(47675),i(96655));class l extends a.Component{render(){let e=this.props.item,t=(this.props.show_over_price,this.props.suggest_price||0),i=0,l=this.props.className||"";if("string"==typeof t&&(t=Number(t.replace(/[^0-9\.]+/g,""))),!t&&e&&(e.steam_lowest_price||e.steam_median_price)&&(i=100*s.Z.lowestPrice(e.steam_lowest_price,e.steam_median_price),r.Log.debug(i,"Steam price to use")),!t&&e&&e.name&&e.category==n.tVC){let i=s.Z.itemTagsMap(e);"giftcard"==i.type&&"USD"==i.currency&&i.balance&&(t=parseInt(i.balance)),t||i.currency||(t=r.Util.extractPrice(e.name))}if(!t&&!i)return!1;t=t||i;let o=Math.round((t-e.price)/t*100);return o>0&&a.createElement("span",{className:"badge badge-success "+l},Math.abs(o),"% OFF")}}},11292:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(67294),s=i(46858);i(84766);class r extends a.Component{constructor(e,t){super(e,t);let{item:i}=this.props,a="";i&&(a=(i&&i.id?i.id:i.steam_properties?i.steam_properties.id:"")+"-paintseed"),this.state={paintseed_id:a}}componentWillUnmount(){let{paintseed_id:e}=this.state;if(e){let t=$("#"+e);t.length>0&&t.tooltip("dispose")}}componentDidMount(){let{paintseed_id:e}=this.state;if(s.Z.isBrowser&&e){let t=$("#"+e);t.length>0&&t.tooltip({title:"Pattern index or Paint seed",delay:{show:100,hide:100}})}}render(){let{float:e,item:t}=this.props,{paintseed_id:i}=this.state;if(e=e||(t&&t.steam_properties?t.steam_properties.wear_value||t.steam_properties.float:""),!e)return!1;let s=t&&t.steam_properties?t.steam_properties.paintseed:"",r=(100*e).toFixed(3);return a.createElement("div",{className:"wear-float"},a.createElement("span",{className:"float-value"},"Wear: ",r,"%"),s?a.createElement("span",{id:i,className:"paintseed-value"},a.createElement("span",{className:"fa fa-tint","aria-hidden":"true"})," ",s):"",a.createElement("br",null),a.createElement("div",{className:"float-color-bar","data-toggle":"popover","data-trigger":"hover","data-placement":"top","data-container":"body","data-html":"true","data-original-title":"Float values Chart","data-content":"Factory New: 0 - 7%<br/>Minimal Wear: 7 - 15%<br/>Field-Tested: 15 - 37%<br/>Well-Worn: 37 - 44%<br/>Battle-Scarred: 44 - 100%"},a.createElement("span",{className:"float-indicator fas fa-caret-up",style:{left:r+"%"},"aria-hidden":"true"})))}}},95835:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(87462),s=i(67294),r=i(45697),n=i.n(r),l=i(47675),o=i(46858);class c extends s.Component{constructor(e,t){super(e,t),this.state={src:""},this.setDisplayImage=this.setDisplayImage.bind(this)}componentDidMount(){let{src:e,placeholder:t}=this.props;t&&this.setDisplayImage(e,t)}componentDidUpdate(e,t){e.src!==this.props.src&&this.props.placeholder&&this.setDisplayImage(this.props.src,this.props.placeholder)}componentWillUnmount(){this.unmounted=!0}setDisplayImage(e,t){let i=new Image;e&&e.includes("https://ipfs")&&(e=l.Z.config.server_url+"/api/util/image/"+encodeURIComponent(e)),i.onerror=()=>{this.unmounted||this.setState({src:t},(()=>{this.props.onError&&this.props.onError(e)}))},i.onload=()=>{this.unmounted||this.setState({src:e},(()=>{this.props.onLoad&&this.props.onLoad(e)}))},i.src=e}imgUrl(e,t,i){return-1!==e.indexOf("gameflipusercontent.fingershock.com")?e+="/"+t+"x"+t+i:e.match(/gameflip.fingershock.com\/api\/v1\/listing\/.+\/photo\/cover_photo/)&&(e+="?format="+t+"x"+t+i),e}render(){let{className:e,alt:t,dim:i,onClick:r,onContextMenu:n,aspectRatio:c,loading:m,style:p,schema:d}=this.props,{src:u}=this.state,g="";u||(u=this.props.src),u&&u.includes("https://ipfs")&&(u=l.Z.config.server_url+"/api/util/image/"+encodeURIComponent(u));let h=[{type:"image/webp",ext:".webp"},{type:"image/jpeg",ext:".jpg"}],f=[];if(i&&u&&(-1!==u.indexOf("gameflipusercontent.fingershock.com")||-1!==u.indexOf("gameflip.fingershock.com"))?h.map(((e,t)=>{let a=this.imgUrl(u,i,e.ext);f.push(s.createElement("source",{key:i+t,type:e.type,srcSet:a})),g||"image/jpeg"!=e.type||(g=a)})):this.props.sources&&Array.isArray(this.props.sources)&&h.map(((e,t)=>{this.props.sources.map(((i,a)=>{i.endsWith(e.ext)&&(f.push(s.createElement("source",{key:t,type:e.type,srcSet:i})),g||"image/jpeg"!=e.type||(g=i))}))})),!u)return!1;g||(g=u),m&&"lazy"!=m&&"eager"!=m&&(m="");let _={};e&&(_.className=e),m&&(_.loading=m),t&&(_.alt=t),d&&(_.itemProp="image");let y=s.createElement("img",(0,a.Z)({},_,{src:g,onClick:r||null,onContextMenu:n||null,style:p||null})),v=o.Z.isSafari?y:s.createElement("picture",null," ",f," ",y," ");return c?s.createElement("div",{style:{"--aspect-ratio":c}},v):v}}c.propTypes={src:n().string.isRequired,onLoad:n().func,onError:n().func}},64927:(e,t,i)=>{i.d(t,{Z:()=>u});var a=i(4942),s=i(67294),r=i(50743),n=i.n(r),l=i(44431),o=i.n(l),c=i(17515),m=i(96655);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,a.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class u extends s.Component{render(){let{money:e,currency:t,rate:i,flpAsUSD:a=!0}=this.props;if(void 0!==e&&t==m.jtz)return a?s.createElement(h,this.props):s.createElement(g,this.props);let r=c.Z.getCurrency(t);return t&&t!=m.qBs&&t!=m.QV0&&r&&"fiat"!=r.type?s.createElement(_,this.props):s.createElement(f,this.props)}}const g=e=>{let{money:t,currency:i,rate:a}=e,r=c.Z.convertFromUSD(t,i,a),n=d({},e);return n.money=r,n.decimals=2,s.createElement(_,n)},h=e=>{let t=d({},e);return t.currency=m.qBs,s.createElement(f,t)},f=e=>{let{money:t,currency:i,rate:a,leadingText:r,trailingText:l,subunit2Unit:o,className:p,moneyClassName:d,currencyClassName:u,schema:g}=e;i&&i!=m.QV0||(i=m.qBs);let h=c.Z.getLocalizedFormat(i);if(i!=m.qBs){void 0!==r&&null!=r||(r="≈ ");let e=c.Z.convertFromUSD(t,i,a);isNaN(e)||e==t||(t=e)}o||(o=100),r=r?s.createElement("span",null,r):"",l=l?s.createElement("span",null,l):"";let f=n().formatMoney(1*t/o,h),_=g?s.createElement("span",{className:d||"money",itemProp:"price",content:f},f):s.createElement("span",{className:d||"money"},f),y=g?s.createElement("span",{className:u||"text-muted",itemProp:"priceCurrency",content:i}," ",i):s.createElement("span",{className:u||"text-muted"}," ",i);return s.createElement("span",{className:p||"formatted-money"},r,_,y,l)},_=e=>{let{money:t,currency:i,rate:a,leadingText:r,trailingText:n,className:l,moneyClassName:p,currencyClassName:d,decimals:u}=e;if(!t)return"";let g=isNaN(u)?i==m.Zp_?2:4:u,h=c.Z.getCurrency(i),f=h?h.subunit_to_unit:"1.0e+"+(i==m.Zp_?6:18),_="bigint"==typeof t||"object"==typeof t,y="string"==typeof t,v=_?t:o()(t);if(_||y||(v=v.times("1.0e+15")),isNaN(v))return s.createElement("span",null);r=r?s.createElement("span",null,r):"",n=n?s.createElement("span",null,n):"";let E=v.div(f).toFixed(g);return s.createElement("span",{className:l||"formatted-money"},r,s.createElement("span",{className:p||"money"},E),s.createElement("span",{className:d||"text-muted"}," ",i),n)}},53414:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(67294),s=(i(46858),i(84766),i(1055));class r extends a.Component{render(){let{className:e,online_until:t,hideOffline:i,noText:r}=this.props;if(!t)return null;let n=new Date<new Date(t),l=n?(0,s._)("Online"):(0,s._)("Offline"),o=n?"online":"offline";return i&&!n?null:a.createElement("div",{className:"presence-badge "+(e||"")},a.createElement("span",{className:o+(r?"":" presence-indicator")},a.createElement("i",{className:"presence-dot fas fa-circle"})," ",r?"":l))}}const n=r},58790:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(67294),s=i(68091),r=i(33583),n=i(1055),l=(i(84766),i(46858)),o=i(96655);class c extends a.Component{static getQuery(e){let t={kind:e.kind,category:e.category,platform:e.platform,status:"onsale"};if(e.category==o.SkU&&e.upc){t.platform=e.upc;let i=l.Z.itemTagsMap(e,{preserve:!0});t.tags=i.market_hash_name||i.name||i.id}else if(e.kind==o.Bxu&&e.genre)t.genre=e.genre.join(",");else if(e.category==o.wz$&&e.tags){let i=l.Z.itemTagsMap(e,{preserve:!0});t.tags=i.id||i.title}return t.tags||t.term||(t.term=e.name),t}constructor(e,t){super(e,t),this.state={size:this.props.size||4,loaded:!1,visible:!1},this.myRef=a.createRef()}componentDidMount(){let e=this.myRef.current;e&&!this.visibleObserver&&(this.visibleObserver=new IntersectionObserver(this.inView.bind(this),{root:null,rootMargin:"0px",threshold:1}),this.visibleObserver.observe(e))}componentWillUnmount(){let e=this.myRef.current;e&&this.visibleObserver&&this.visibleObserver.unobserve(e)}inView(e){e[0]&&!0===e[0].isIntersecting&&this.setState({visible:!0})}onResultSize(e){this.setState({size:e,loaded:!0})}_randomRecentViewed(){let e=r.Z.recentlyViewedListings(),t={};if(e){let i=Math.random();if(i<.6){let i="";for(let t=0,a=e.length;t<a;t++)if(e[t].upc&&e[t].category!=o.SkU){let a=e[t].upc;i+=""==i?a:","+a}""!=i&&(t={upc:i})}if(i>=.6||""==upclist){let i=Math.floor(Math.random()*e.length),a=(e[i]&&e[i].category,e[i]||null);a&&a.category&&(t={category:a.category,term:a.name})}}return t}render(){let e=this.props.className||"",t=this.props.title||(0,n._)("Similar Items"),i=this.props.item||null,r=this.props.term||null,l=this.props.upc||null,o=this.props.status||null,m=this.props.limit||8,p=this.props.per||4,d={};i?d=c.getQuery(i):r?d.term=r:l?d.upc=l:d=this._randomRecentViewed(),d.limit=m,d.status=o;let u=i?{id:i.id}:{},{loaded:g,size:h,visible:f}=this.state;return a.createElement("div",{className:"container-fluid"+(e?" "+e:""),ref:this.myRef},g&&h>0?a.createElement("h2",null,t):"",g||f?a.createElement(s.Z,{query:d,per:p,exclude:u,onResult:this.onResultSize.bind(this),textSize:"compact"}):"")}}},21397:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(67294),s=i(84766),r=i(46858),n=(i(1055),i(95835));class l extends a.Component{constructor(e,t){super(e,t)}coverMedia(e){let t=null;if("object"==typeof e){if(!t&&e.cover_media&&e.media){let i=e.media[e.cover_media];s.Log.debug(i,"Has cover media"),i&&(t=i)}if(!t&&e.cover_photo&&e.photo){let i=e.photo[e.cover_photo];s.Log.debug(i,"Has cover photo"),i&&(t=i)}}return t}pickFirstMedia(e,t){let i=[e.media,e.photo],a=[],s=null;if(i.map(((e,t)=>{if(e)for(let t in e){let i=e[t];"active"==i.status&&a.push(i)}})),a.length>0){a=r.Z.sortArrayBy(a,"display_order",1);let e=null,i=null;for(let t=0;t<a.length;t++){let s=a[t];if(!e&&s.mime_type&&/^video\//.test(s.mime_type)?e=s:i||s.mime_type&&!/^image\//.test(s.mime_type)||(i=s),e||i)break}s="video"==t?e||i:i||e}return s}isVideo(e){return e&&(/^video\//.test(e)||/^application\/vnd.apple.mpegurl/.test(e))}render(){let{item:e,show:t,placeholder:i,className:r,alt:n,dim:l,aspectRatio:m,autoPlay:p,urlOnly:d}=this.props;if(!e)return a.createElement("div",null);let u=null,g=this.coverMedia(e);return g&&(s.Log.debug(g,"Cover media"),(t&&"video"==t&&g.mime_type&&this.isVideo(g.mime_type)||!g.mime_type||g.mime_type&&this.isVideo(g.mime_type)&&"video"!==t)&&(u=g)),u||(g=this.pickFirstMedia(e,t||"photo"),s.Log.debug(g,"First available media"),t&&"video"==t&&g&&g.mime_type&&this.isVideo(g.mime_type),u=g),d?u?u.view_url:"/img/app/default_blank_photo.png":u?a.createElement(o,{className:r,media:u,alt:n,dim:l,aspectRatio:m||0,autoPlay:p}):a.createElement(c,{className:r,media:{mime_type:"image/png",view_url:i||"/img/app/default_blank_photo.png"},aspectRatio:m||0})}}const o=e=>{let{show:t,media:i}=e;return i.mime_type&&/^video\//.test(i.mime_type)?a.createElement(m,e):i.mime_type&&/^application\/vnd.apple.mpegurl/.test(i.mime_type)?void(content=a.createElement(p,e)):!i.mime_type||i.mime_type&&/^image\//.test(i.mime_type)?a.createElement(c,e):(s.Log.error(i,"Unknown media mime type"),!1)},c=e=>{let{media:t,className:i,name:s,dim:r,aspectRatio:l}=e;return a.createElement(n.Z,{onContextMenu:e=>{if(e)return e.preventDefault()},className:i||"img-fluid",src:t.view_url,alt:s||"",dim:r,aspectRatio:l||0})};class m extends a.Component{constructor(e){super(e),this.state={loaded:!1,paused:!1===e.autoPlay},this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this)}componentWillUnmount(){this.thisVideo&&(this.thisVideo.onplaying=null,this.thisVideo.onpause=null,this.thisVideo=null)}hasAudio(e){try{return e.mozHasAudio||Boolean(e.webkitAudioDecodedByteCount)||Boolean(e.audioTracks&&e.audioTracks.length)}catch(e){s.Log.debug(e)}}onClickAudio(e){e&&e.preventDefault(),this.thisVideo&&(this.thisVideo.muted=!this.thisVideo.muted,this.forceUpdate())}onPause(e){e&&e.preventDefault(),this.setState({paused:!0})}onPlaying(e){e&&e.preventDefault(),this.setState({paused:!1})}onClickPlayPause(e){if(e&&e.preventDefault(),this.thisVideo){this.thisVideo.paused||this.thisVideo.ended?this.thisVideo.play():this.thisVideo.pause();let e=this.thisVideo.paused||this.thisVideo.ended;this.setState({paused:e})}}onContextMenu(e){if(e)return e.preventDefault()}onLoadedData(e){this.setState({loaded:!0,paused:this.thisVideo&&(this.thisVideo.paused||this.thisVideo.ended)})}render(){let{media:e,className:t,name:i,autoPlay:s}=this.props,{loaded:r,paused:n}=this.state;void 0===s&&(s=!0);let l=r&&this.hasAudio?a.createElement("div",{className:"nftc-token-video-button "+(this.thisVideo&&!this.thisVideo.muted?"fas fa-volume-up":"fas fa-volume-off"),onClick:this.onClickAudio.bind(this)}):null,o=r?a.createElement("div",{className:"nftc-token-video-button "+(n?"fas fa-play":"fas fa-pause"),onClick:this.onClickPlayPause.bind(this)}):null;return a.createElement("div",{className:"nftc-token-video"},a.createElement("div",{className:"nftc-token-video-buttons"},o,l),a.createElement("video",{className:t||"img-fluid",onLoadedData:this.onLoadedData.bind(this),ref:e=>{this.thisVideo=e,e&&(this.thisVideo.onplaying=this.onPlaying,this.thisVideo.onpause=this.onPause)},onContextMenu:this.onContextMenu.bind(this),key:e.view_url,autoPlay:s,loop:!0,muted:!0,playsInline:!0,controls:!1,controlsList:"nodownload"},a.createElement("source",{src:e.view_url,type:e.mime_type})))}}const p=e=>{let{media:t,className:i,name:s,autoPlay:r}=e,n="";t.poster_selected&&t.posters&&t.posters[t.poster_selected]["640x640"]&&(n=t.posters&&t.posters[t.poster_selected]["640x640"].view_url);let l=n?a.createElement("img",{className:"video-player-poster center-block",itemProp:"image",src:n}):"";return a.createElement("div",{className:i||"img-fluid pointer"},l)}},33583:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(84766),s=i(47675),r=i(96655);const n="setting_search_view",l="setting_search_sort";class o extends a.EventHandler{constructor(){super(),this._defaultSortItems="",this._defaultSortGigs="",this._defaultSortRandTime=(new Date).getTime()-1e3}get search_view(){return a.Storage.get(n)||"grid"}set search_view(e){a.Storage.set(n,e),this.emitChange()}get search_sort(){return a.Storage.get(l)||""}set search_sort(e){a.Storage.set(l,e),this.emitChange()}get defaultSortGigs(){return this.getRandomizedDefaultSort("gig")}get defaultSortItems(){return this.getRandomizedDefaultSort("item")}getRandomizedDefaultSort(e){if((new Date).getTime()>this._defaultSortRandTime){this._defaultSortRandTime=(new Date).getTime()+9e5;let e=["seller_online_until:desc,seller_score:desc"];e.push("seller_online_until:desc,gig_completed_count:desc,seller_score:desc"),e.push("seller_online_until:desc,gig_completed_count:desc,gig_notcompleted_count:asc,seller_score:desc");let t=["_score:desc,shipping_within_days:asc,seller_score:desc,seller_online_until:desc"];t.push("_score:desc,shipping_within_days:asc,created:desc"),t.push("_score:desc,shipping_within_days:asc,created:desc"),this._defaultSortGigs=e[Math.floor(Math.random()*e.length+0)],this._defaultSortItems=t[Math.floor(Math.random()*t.length+0)]}return"gig"==e?this._defaultSortGigs:this._defaultSortItems}removeViewedListing(e){let t=a.Storage.getObject(r.OSL)||[],i=-1;for(let a=0;a<t.length;a++)if(t[a].id==e){i=a;break}i>=0&&(t.splice(i,1),a.Storage.setObject(r.OSL,t),this.emitChange())}saveViewedListing(e){let t=a.Storage.getObject(r.OSL)||[];t.length>20&&t.shift();for(let i=0;i<t.length;i++)if(t[i].id==e.id)return;let i=a.Util.clone(e);delete i.description,delete i.shipping_predefined_package,delete i.shipping_paid_by,delete i.shipping_within_days,delete i.expire_in_days,delete i.expiration,delete i.commission,delete i.digital_fee,i.host_url=s.Z.host_url,t.push(i),a.Storage.setObject(r.OSL,t),this.emitChange()}recentlyViewedListings(){let e=a.Storage.getObject(r.OSL)||[];return e.length>0&&(e=e.filter(((e,t)=>e.host_url==s.Z.host_url))),e}}const c=new o}}]);