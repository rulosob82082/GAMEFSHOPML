"use strict";(self.webpackChunkgameflip_market=self.webpackChunkgameflip_market||[]).push([[8258],{95835:(e,t,s)=>{s.d(t,{Z:()=>p});var i=s(87462),a=s(67294),n=s(45697),o=s.n(n),r=s(47675),l=s(46858);class p extends a.Component{constructor(e,t){super(e,t),this.state={src:""},this.setDisplayImage=this.setDisplayImage.bind(this)}componentDidMount(){let{src:e,placeholder:t}=this.props;t&&this.setDisplayImage(e,t)}componentDidUpdate(e,t){e.src!==this.props.src&&this.props.placeholder&&this.setDisplayImage(this.props.src,this.props.placeholder)}componentWillUnmount(){this.unmounted=!0}setDisplayImage(e,t){let s=new Image;e&&e.includes("https://ipfs")&&(e=r.Z.config.server_url+"/api/util/image/"+encodeURIComponent(e)),s.onerror=()=>{this.unmounted||this.setState({src:t},(()=>{this.props.onError&&this.props.onError(e)}))},s.onload=()=>{this.unmounted||this.setState({src:e},(()=>{this.props.onLoad&&this.props.onLoad(e)}))},s.src=e}imgUrl(e,t,s){return-1!==e.indexOf("gameflipusercontent.fingershock.com")?e+="/"+t+"x"+t+s:e.match(/gameflip.fingershock.com\/api\/v1\/listing\/.+\/photo\/cover_photo/)&&(e+="?format="+t+"x"+t+s),e}render(){let{className:e,alt:t,dim:s,onClick:n,onContextMenu:o,aspectRatio:p,loading:m,style:c,schema:d}=this.props,{src:u}=this.state,h="";u||(u=this.props.src),u&&u.includes("https://ipfs")&&(u=r.Z.config.server_url+"/api/util/image/"+encodeURIComponent(u));let y=[{type:"image/webp",ext:".webp"},{type:"image/jpeg",ext:".jpg"}],f=[];if(s&&u&&(-1!==u.indexOf("gameflipusercontent.fingershock.com")||-1!==u.indexOf("gameflip.fingershock.com"))?y.map(((e,t)=>{let i=this.imgUrl(u,s,e.ext);f.push(a.createElement("source",{key:s+t,type:e.type,srcSet:i})),h||"image/jpeg"!=e.type||(h=i)})):this.props.sources&&Array.isArray(this.props.sources)&&y.map(((e,t)=>{this.props.sources.map(((s,i)=>{s.endsWith(e.ext)&&(f.push(a.createElement("source",{key:t,type:e.type,srcSet:s})),h||"image/jpeg"!=e.type||(h=s))}))})),!u)return!1;h||(h=u),m&&"lazy"!=m&&"eager"!=m&&(m="");let g={};e&&(g.className=e),m&&(g.loading=m),t&&(g.alt=t),d&&(g.itemProp="image");let v=a.createElement("img",(0,i.Z)({},g,{src:h,onClick:n||null,onContextMenu:o||null,style:c||null})),_=l.Z.isSafari?v:a.createElement("picture",null," ",f," ",v," ");return p?a.createElement("div",{style:{"--aspect-ratio":p}},_):_}}p.propTypes={src:o().string.isRequired,onLoad:o().func,onError:o().func}},64927:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(4942),a=s(67294),n=s(50743),o=s.n(n),r=s(44431),l=s.n(r),p=s(17515),m=s(96655);function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){(0,i.Z)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}class u extends a.Component{render(){let{money:e,currency:t,rate:s,flpAsUSD:i=!0}=this.props;if(void 0!==e&&t==m.jtz)return i?a.createElement(y,this.props):a.createElement(h,this.props);let n=p.Z.getCurrency(t);return t&&t!=m.qBs&&t!=m.QV0&&n&&"fiat"!=n.type?a.createElement(g,this.props):a.createElement(f,this.props)}}const h=e=>{let{money:t,currency:s,rate:i}=e,n=p.Z.convertFromUSD(t,s,i),o=d({},e);return o.money=n,o.decimals=2,a.createElement(g,o)},y=e=>{let t=d({},e);return t.currency=m.qBs,a.createElement(f,t)},f=e=>{let{money:t,currency:s,rate:i,leadingText:n,trailingText:r,subunit2Unit:l,className:c,moneyClassName:d,currencyClassName:u,schema:h}=e;s&&s!=m.QV0||(s=m.qBs);let y=p.Z.getLocalizedFormat(s);if(s!=m.qBs){void 0!==n&&null!=n||(n="≈ ");let e=p.Z.convertFromUSD(t,s,i);isNaN(e)||e==t||(t=e)}l||(l=100),n=n?a.createElement("span",null,n):"",r=r?a.createElement("span",null,r):"";let f=o().formatMoney(1*t/l,y),g=h?a.createElement("span",{className:d||"money",itemProp:"price",content:f},f):a.createElement("span",{className:d||"money"},f),v=h?a.createElement("span",{className:u||"text-muted",itemProp:"priceCurrency",content:s}," ",s):a.createElement("span",{className:u||"text-muted"}," ",s);return a.createElement("span",{className:c||"formatted-money"},n,g,v,r)},g=e=>{let{money:t,currency:s,rate:i,leadingText:n,trailingText:o,className:r,moneyClassName:c,currencyClassName:d,decimals:u}=e;if(!t)return"";let h=isNaN(u)?s==m.Zp_?2:4:u,y=p.Z.getCurrency(s),f=y?y.subunit_to_unit:"1.0e+"+(s==m.Zp_?6:18),g="bigint"==typeof t||"object"==typeof t,v="string"==typeof t,_=g?t:l()(t);if(g||v||(_=_.times("1.0e+15")),isNaN(_))return a.createElement("span",null);n=n?a.createElement("span",null,n):"",o=o?a.createElement("span",null,o):"";let b=_.div(f).toFixed(h);return a.createElement("span",{className:r||"formatted-money"},n,a.createElement("span",{className:c||"money"},b),a.createElement("span",{className:d||"text-muted"}," ",s),o)}},21397:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(67294),a=s(84766),n=s(46858),o=(s(1055),s(95835));class r extends i.Component{constructor(e,t){super(e,t)}coverMedia(e){let t=null;if("object"==typeof e){if(!t&&e.cover_media&&e.media){let s=e.media[e.cover_media];a.Log.debug(s,"Has cover media"),s&&(t=s)}if(!t&&e.cover_photo&&e.photo){let s=e.photo[e.cover_photo];a.Log.debug(s,"Has cover photo"),s&&(t=s)}}return t}pickFirstMedia(e,t){let s=[e.media,e.photo],i=[],a=null;if(s.map(((e,t)=>{if(e)for(let t in e){let s=e[t];"active"==s.status&&i.push(s)}})),i.length>0){i=n.Z.sortArrayBy(i,"display_order",1);let e=null,s=null;for(let t=0;t<i.length;t++){let a=i[t];if(!e&&a.mime_type&&/^video\//.test(a.mime_type)?e=a:s||a.mime_type&&!/^image\//.test(a.mime_type)||(s=a),e||s)break}a="video"==t?e||s:s||e}return a}isVideo(e){return e&&(/^video\//.test(e)||/^application\/vnd.apple.mpegurl/.test(e))}render(){let{item:e,show:t,placeholder:s,className:n,alt:o,dim:r,aspectRatio:m,autoPlay:c,urlOnly:d}=this.props;if(!e)return i.createElement("div",null);let u=null,h=this.coverMedia(e);return h&&(a.Log.debug(h,"Cover media"),(t&&"video"==t&&h.mime_type&&this.isVideo(h.mime_type)||!h.mime_type||h.mime_type&&this.isVideo(h.mime_type)&&"video"!==t)&&(u=h)),u||(h=this.pickFirstMedia(e,t||"photo"),a.Log.debug(h,"First available media"),t&&"video"==t&&h&&h.mime_type&&this.isVideo(h.mime_type),u=h),d?u?u.view_url:"/img/app/default_blank_photo.png":u?i.createElement(l,{className:n,media:u,alt:o,dim:r,aspectRatio:m||0,autoPlay:c}):i.createElement(p,{className:n,media:{mime_type:"image/png",view_url:s||"/img/app/default_blank_photo.png"},aspectRatio:m||0})}}const l=e=>{let{show:t,media:s}=e;return s.mime_type&&/^video\//.test(s.mime_type)?i.createElement(m,e):s.mime_type&&/^application\/vnd.apple.mpegurl/.test(s.mime_type)?void(content=i.createElement(c,e)):!s.mime_type||s.mime_type&&/^image\//.test(s.mime_type)?i.createElement(p,e):(a.Log.error(s,"Unknown media mime type"),!1)},p=e=>{let{media:t,className:s,name:a,dim:n,aspectRatio:r}=e;return i.createElement(o.Z,{onContextMenu:e=>{if(e)return e.preventDefault()},className:s||"img-fluid",src:t.view_url,alt:a||"",dim:n,aspectRatio:r||0})};class m extends i.Component{constructor(e){super(e),this.state={loaded:!1,paused:!1===e.autoPlay},this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this)}componentWillUnmount(){this.thisVideo&&(this.thisVideo.onplaying=null,this.thisVideo.onpause=null,this.thisVideo=null)}hasAudio(e){try{return e.mozHasAudio||Boolean(e.webkitAudioDecodedByteCount)||Boolean(e.audioTracks&&e.audioTracks.length)}catch(e){a.Log.debug(e)}}onClickAudio(e){e&&e.preventDefault(),this.thisVideo&&(this.thisVideo.muted=!this.thisVideo.muted,this.forceUpdate())}onPause(e){e&&e.preventDefault(),this.setState({paused:!0})}onPlaying(e){e&&e.preventDefault(),this.setState({paused:!1})}onClickPlayPause(e){if(e&&e.preventDefault(),this.thisVideo){this.thisVideo.paused||this.thisVideo.ended?this.thisVideo.play():this.thisVideo.pause();let e=this.thisVideo.paused||this.thisVideo.ended;this.setState({paused:e})}}onContextMenu(e){if(e)return e.preventDefault()}onLoadedData(e){this.setState({loaded:!0,paused:this.thisVideo&&(this.thisVideo.paused||this.thisVideo.ended)})}render(){let{media:e,className:t,name:s,autoPlay:a}=this.props,{loaded:n,paused:o}=this.state;void 0===a&&(a=!0);let r=n&&this.hasAudio?i.createElement("div",{className:"nftc-token-video-button "+(this.thisVideo&&!this.thisVideo.muted?"fas fa-volume-up":"fas fa-volume-off"),onClick:this.onClickAudio.bind(this)}):null,l=n?i.createElement("div",{className:"nftc-token-video-button "+(o?"fas fa-play":"fas fa-pause"),onClick:this.onClickPlayPause.bind(this)}):null;return i.createElement("div",{className:"nftc-token-video"},i.createElement("div",{className:"nftc-token-video-buttons"},l,r),i.createElement("video",{className:t||"img-fluid",onLoadedData:this.onLoadedData.bind(this),ref:e=>{this.thisVideo=e,e&&(this.thisVideo.onplaying=this.onPlaying,this.thisVideo.onpause=this.onPause)},onContextMenu:this.onContextMenu.bind(this),key:e.view_url,autoPlay:a,loop:!0,muted:!0,playsInline:!0,controls:!1,controlsList:"nodownload"},i.createElement("source",{src:e.view_url,type:e.mime_type})))}}const c=e=>{let{media:t,className:s,name:a,autoPlay:n}=e,o="";t.poster_selected&&t.posters&&t.posters[t.poster_selected]["640x640"]&&(o=t.posters&&t.posters[t.poster_selected]["640x640"].view_url);let r=o?i.createElement("img",{className:"video-player-poster center-block",itemProp:"image",src:o}):"";return i.createElement("div",{className:s||"img-fluid pointer"},r)}}}]);